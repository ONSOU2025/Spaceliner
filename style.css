:root {
    --bg-black: #050505;
    --ui-gray: #1a1a1a;
    --ui-light: #ececec;
    --accent-red: #ff3c3c;
    --accent-blue: #00d2ff;
}

body {
    background-color: var(--bg-black);
    color: var(--ui-light);
    font-family: 'Exo 2', 'Noto Sans JP', sans-serif;
    margin: 0;
    overflow-x: hidden;
}

/* --- 背景演出：クロスとグリッド --- */
.bg-container {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    perspective: 1000px;
}

/* 背後で交差する巨大なXライン */
.cross-line-l, .cross-line-r {
    position: absolute;
    width: 200%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    top: 50%;
    left: -50%;
}
.cross-line-l { transform: rotate(25deg); animation: cross-pulse 8s infinite alternate; }
.cross-line-r { transform: rotate(-25deg); animation: cross-pulse 8s infinite alternate-reverse; }

@keyframes cross-pulse {
    from { opacity: 0.1; box-shadow: 0 0 0px transparent; }
    to { opacity: 0.4; box-shadow: 0 0 20px #fff; }
}

.grid-3d {
    position: absolute; width: 200%; height: 200%; top: -50%; left: -50%;
    background-image: linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 80px 80px;
    transform: rotateX(65deg);
    animation: grid-move 5s linear infinite;
}
@keyframes grid-move { 
    0% { transform: rotateX(65deg) translateY(0); } 
    100% { transform: rotateX(65deg) translateY(80px); } 
}

.scanlines {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.2) 50%);
    background-size: 100% 4px;
    z-index: 5; pointer-events: none;
}

/* --- UI：クロス・スライドアニメーション --- */

.track-container {
    display: flex;
    flex-direction: column;
    padding: 100px 0;
}

.track-row {
    position: relative;
    padding: 30px 60px;
    transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
    cursor: pointer;
}

/* 左から右へ流れる行 */
.side-l {
    background: linear-gradient(90deg, var(--ui-gray) 0%, transparent 100%);
    clip-path: polygon(0 0, 85% 0, 95% 100%, 0% 100%);
    margin-right: 10%;
    border-left: 5px solid transparent;
}

/* 右から左へ流れる行（クロス） */
.side-r {
    background: linear-gradient(-90deg, var(--ui-gray) 0%, transparent 100%);
    clip-path: polygon(5% 0, 100% 0, 100% 100%, 15% 100%);
    margin-left: 10%;
    text-align: right;
    border-right: 5px solid transparent;
}

.side-r .track-cell { justify-content: flex-end; }

/* ホバー演出：左右から中央に迫り出す（クロスの合体） */
.track-row:hover {
    background: var(--ui-light);
    color: #000;
}
.side-l:hover { transform: translateX(50px); border-left: 5px solid var(--accent-red); }
.side-r:hover { transform: translateX(-50px); border-right: 5px solid var(--accent-blue); }

.track-cell { transform: skewX(0); display: flex; align-items: center; gap: 30px; transition: 0.3s; }
.side-l .track-cell { transform: skewX(15deg); } /* テキストの歪み調整 */
.side-r .track-cell { transform: skewX(-15deg); }

.lv-label { font-size: 1.5rem; font-weight: bold; color: var(--accent-red); font-style: italic; }
.title { font-size: 1.8rem; font-weight: bold; display: block; }
.artist { font-size: 0.9rem; opacity: 0.6; }

/* --- 判定・ダウンロードエリア --- */

.sl-title {
    font-size: 1.8rem; padding: 5px 30px; background: var(--ui-gray);
    display: inline-block; transform: skewX(-20deg);
    border-left: 10px solid var(--accent-red);
}

.result-ui-mock {
    border: 1px solid #333; background: rgba(0,0,0,0.9);
    max-width: 500px; margin: 0 auto;
    clip-path: polygon(0 0, 95% 0, 100% 5%, 100% 100%, 5% 100%, 0 95%);
}
.result-header { background: #eee; color: #000; padding: 5px 15px; font-size: 0.7rem; font-weight: bold; }
.judge-row { display: flex; justify-content: space-between; padding: 12px 25px; border-bottom: 1px solid #222; }
.error { color: var(--accent-red); }

.dl-card { background: #111; padding: 50px; border: 1px solid #222; text-align: center; }
.dl-button {
    display: inline-block; border: 2px solid var(--accent-blue); color: var(--accent-blue);
    padding: 20px 60px; text-decoration: none; font-weight: bold; margin-bottom: 40px;
    transition: 0.3s;
}
.dl-button:hover { background: var(--accent-blue); color: #000; box-shadow: 0 0 25px var(--accent-blue); }

.spec-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; text-align: left; }
.sub-title { font-size: 0.9rem; border-bottom: 1px solid #333; color: var(--accent-blue); margin-bottom: 15px; }

/* その他 */
.side-nav { position: fixed; right: 25px; top: 50%; transform: translateY(-50%); z-index: 100; }
.side-nav a { 
    color: #fff; text-decoration: none; writing-mode: vertical-rl; 
    font-size: 0.7rem; letter-spacing: 4px; margin: 15px 0; display: block;
    border-right: 1px solid rgba(255,255,255,0.3); padding-right: 8px;
}
.side-nav a:hover { color: var(--accent-red); border-right: 1px solid var(--accent-red); }

footer { padding: 80px 0; text-align: center; font-size: 0.6rem; letter-spacing: 5px; opacity: 0.4; }

@media (max-width: 768px) {
    h1 { font-size: 3rem; }
    .track-row { margin: 0 !important; clip-path: none; text-align: left !important; }
    .spec-grid { grid-template-columns: 1fr; }
}